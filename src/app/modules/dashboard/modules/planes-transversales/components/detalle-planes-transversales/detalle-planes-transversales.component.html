<div class="routerComponent">

    <div class="title">
        <h1>Monitoreo y evaluación</h1>
    </div>

    <div style="margin-bottom: 5px;">
        <button class="backButton" mat-stroked-button [routerLink]="['../']"><mat-icon>arrow_back</mat-icon>Listado de
            recursos solicitados</button>
    </div>

    <div class="detallePlanTransversal">
        <div class="detalleActividad" *ngIf="insumoDetalle">

            <div class="detalleActividadSection">
                <h3>Insumo</h3>
                <h4>{{insumoDetalle.insumo.nombre}}.</h4>
            </div>

            <div class="detalleActividadSection">
                <h3>Codigo de insumo</h3>
                <h4>{{insumoDetalle.insumo.id}}</h4>
            </div>

            <div class="detalleActividadSection">
                <h3>Categoria de Insumo</h3>
                <h4>{{insumoDetalle.insumo.categoriaInsumo.nombre}}</h4>
            </div>

            <div class="detalleActividadSection">
                <h3>Descripción de insumo</h3>
                <h4>{{insumoDetalle.insumo.descripcion}}.</h4>
            </div>
        </div>

        <div >
            <div class="formCosteo">
                <h1 style="color: #004b8d;">Completar costeo</h1>
            <form [formGroup]="insumoForm">

                <!-- <mat-form-field appearance="fill"  style="width: 20%;">
                    <mat-label>Categoría de insumo</mat-label>
                    <mat-select>
                        disableRipple formControlName="idCategoria" (selectionChange)="onSelectCategoria()"
                        <ng-container>
                             *ngIf="categoriaInsumoList.length> 0; else noCatego"
                            <mat-option>
                                [value]="categoria.id" *ngFor="let categoria of categoriaInsumoList"
                                {{categoria.nombre}}
                            </mat-option>
                        </ng-container>
                        <ng-template #noCatego> <mat-option>No hay campos disponibles</mat-option> </ng-template>
                    </mat-select>
                </mat-form-field>&nbsp;

                <mat-form-field appearance="fill"  style="width: 35%;">
                    <mat-label>Insumos</mat-label>
                    <mat-select>
                        disableRipple formControlName="nombre" (selectionChange)="onSelectInsumo($event.value)"
                        <ng-container>
                            <mat-option> 
                                [value]="insumo.nombre" *ngFor="let insumo of insumoListFilter"
                                {{insumo.nombre}}
                            </mat-option>
                        </ng-container>
                    </mat-select>
                </mat-form-field>&nbsp;

                <mat-form-field appearance="fill"  style="width: 43%;">
                    <mat-label>Descripción de insumo</mat-label>
                    <input matInput readonly > 
                    formControlName="descripcion"
                </mat-form-field>&nbsp; -->

                <br>

                <mat-form-field appearance="fill"  style="width: 20%;">
                    <mat-label>Unidad de medida</mat-label>
                    <mat-select disableRipple form formControlName="idUnidadMedida" > <!--(selectionChange)="onSelectUnidadMedida($event.value)"-->
                      <ng-container *ngIf="unidadesMedidaList.length> 0; else noUniMed">
                        <mat-option [value]="unidadMedida.id" *ngFor="let unidadMedida of unidadesMedidaList">
                          {{unidadMedida.nombre}}
                        </mat-option>
                      </ng-container>
                      <ng-template #noUniMed> <mat-option>No hay campos disponibles</mat-option> </ng-template>
                    </mat-select>
                  </mat-form-field>&nbsp;

                <mat-form-field appearance="fill"  style="width:44.5%;">
                    <mat-label>Insumo Especifico</mat-label>
                    <input matInput formControlName="descripcionInsumo"> <!---->
                  </mat-form-field>&nbsp;

                <mat-form-field appearance="fill"  style="width: 23%;">
                    <mat-label>Costo unitario</mat-label>
                    <input matInput formControlName="costoUnitario" type="number" (input)="calculateMontoTotal()">
                </mat-form-field>&nbsp;

                <mat-form-field appearance="fill"  style="width:10%;">
                    <mat-label>Cantidad</mat-label>
                    <input matInput type="number" formControlName="cantidad" (input)="calculateMontoTotal()"> <!-- -->
                </mat-form-field>

                <mat-form-field appearance="fill"  style="width:20%;">
                    <mat-label>Fecha recepción</mat-label>
                    <input matInput [matDatepicker]="picker" formControlName="fechaRecepcion" ><!---->
                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>&nbsp;
          
                <mat-form-field appearance="fill"  style="width:17%;">
                  <mat-label>Total</mat-label>
                  <input matInput type="number" readonly formControlName="montoTotal"> <!-- -->
                </mat-form-field>&nbsp;

                <br>
                <span style="display: flex; justify-content: space-between;">
                    <span></span>
                    <button class="greenButton" (click)="postaceptInsumo()">Guardar cambios</button>
                </span>

            </form>
            </div>
        </div>
    </div>
</div>